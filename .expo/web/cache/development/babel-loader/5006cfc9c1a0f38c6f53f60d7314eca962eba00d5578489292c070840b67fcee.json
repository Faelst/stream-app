{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Fade, Placeholder, PlaceholderMedia } from \"rn-placeholder\";\nimport { Container } from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function TopGamesCard(_ref) {\n  var url = _ref.url,\n    name = _ref.name,\n    isLoadingTopGames = _ref.isLoadingTopGames;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  useEffect(function () {\n    function prefetchImage() {\n      return _regeneratorRuntime.async(function prefetchImage$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Image.prefetch(url.replace('{width}x{height}', '450x600')));\n          case 3:\n            setIsLoading(false);\n            _context.next = 9;\n            break;\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](0);\n            Alert.alert('Erro imagem Top Games');\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }, null, null, [[0, 6]], Promise);\n    }\n    if (!isLoadingTopGames) prefetchImage();\n  }, [isLoadingTopGames]);\n  return isLoading ? _jsx(Placeholder, {\n    Animation: Fade,\n    style: {\n      width: 150,\n      height: 200,\n      marginRight: 16,\n      opacity: 0.2\n    },\n    children: _jsx(PlaceholderMedia, {\n      color: \"#828282\",\n      style: {\n        flex: 1,\n        width: '100%',\n        borderRadius: 10\n      }\n    })\n  }) : _jsx(TouchableOpacity, {\n    activeOpacity: 0.5,\n    onPress: function onPress() {\n      return Linking.openURL(\"https://www.twitch.tv/directory/game/\" + encodeURI(name));\n    },\n    children: _jsx(Container, {\n      source: {\n        uri: url && url.replace('{width}x{height}', '450x600')\n      },\n      resizeMode: \"cover\"\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","Alert","Linking","TouchableOpacity","Image","Fade","Placeholder","PlaceholderMedia","Container","jsx","_jsx","TopGamesCard","_ref","url","name","isLoadingTopGames","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","prefetchImage","_regeneratorRuntime","async","prefetchImage$","_context","prev","next","awrap","prefetch","replace","t0","alert","stop","Promise","Animation","style","width","height","marginRight","opacity","children","color","flex","borderRadius","activeOpacity","onPress","openURL","encodeURI","source","uri","resizeMode"],"sources":["/Users/fael_st/www/react-native/stream-app/src/components/TopGamesCard/index.tsx"],"sourcesContent":["import React from 'react';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Alert } from 'react-native';\nimport { Linking, TouchableOpacity, Image } from 'react-native';\n// import SkeletonContent from 'react-native-skeleton-content';\nimport {\n  Fade,\n  Placeholder,\n  PlaceholderMedia,\n} from \"rn-placeholder\";\n\nimport {\n  Container\n} from './styles';\n\ninterface TopGamesCardProps {\n  url: string;\n  name: string;\n  isLoadingTopGames: boolean;\n}\n\nexport function TopGamesCard({ url, name, isLoadingTopGames }: TopGamesCardProps) {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function prefetchImage() {\n      try {\n        await Image.prefetch(url.replace('{width}x{height}', '450x600'));\n        \n        setIsLoading(false);\n      } catch (error) {\n        Alert.alert('Erro imagem Top Games');\n      }\n    }\n\n    if (!isLoadingTopGames)\n      prefetchImage();\n  }, [isLoadingTopGames])\n\n  return (\n    // <SkeletonContent\n    //   isLoading={isLoading}\n    //   boneColor=\"#1C1C21\"\n    //   highlightColor=\"#272730c1\"\n    //   duration={2000}\n    //   layout={[\n    //     { key: 'banner', width: 150, height: 200, borderRadius: 10, marginRight: 16 },\n    //   ]}\n    // >\n    isLoading ? (\n      <Placeholder\n        Animation={Fade}\n        style={{\n          width: 150,\n          height: 200,        \n          marginRight: 16,\n          opacity: 0.2\n        }}\n      >\n        <PlaceholderMedia\n          color=\"#828282\"\n          style={{ \n            flex: 1, \n            width: '100%', \n            borderRadius: 10 \n          }}\n        />\n      </Placeholder>\n    ) : (\n      <TouchableOpacity activeOpacity={0.5} onPress={() => Linking.openURL(`https://www.twitch.tv/directory/game/${encodeURI(name)}`)}>\n        <Container \n          source={{ uri: url && url.replace('{width}x{height}', '450x600') }}\n          resizeMode=\"cover\"\n        />\n      </TouchableOpacity>\n    )\n    // </SkeletonContent>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,KAAA;AAAA,OAAAC,OAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,KAAA;AAIjC,SACEC,IAAI,EACJC,WAAW,EACXC,gBAAgB,QACX,gBAAgB;AAEvB,SACEC,SAAS;AACO,SAAAC,GAAA,IAAAC,IAAA;AAQlB,OAAO,SAASC,YAAYA,CAAAC,IAAA,EAAsD;EAAA,IAAnDC,GAAG,GAAAD,IAAA,CAAHC,GAAG;IAAEC,IAAI,GAAAF,IAAA,CAAJE,IAAI;IAAEC,iBAAiB,GAAAH,IAAA,CAAjBG,iBAAiB;EACzD,IAAAC,SAAA,GAAkChB,QAAQ,CAAC,IAAI,CAAC;IAAAiB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAzCG,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAE9BlB,SAAS,CAAC,YAAM;IACd,SAAesB,aAAaA,CAAA;MAAA,OAAAC,mBAAA,CAAAC,KAAA,UAAAC,eAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAE,IAAA;YAAA,OAAAL,mBAAA,CAAAM,KAAA,CAElBxB,KAAK,CAACyB,QAAQ,CAAChB,GAAG,CAACiB,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;UAAA;YAEhEV,YAAY,CAAC,KAAK,CAAC;YAACK,QAAA,CAAAE,IAAA;YAAA;UAAA;YAAAF,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;YAEpBxB,KAAK,CAAC+B,KAAK,CAAC,uBAAuB,CAAC;UAAC;UAAA;YAAA,OAAAP,QAAA,CAAAQ,IAAA;QAAA;MAAA,yBAAAC,OAAA;IAAA;IAIzC,IAAI,CAACnB,iBAAiB,EACpBM,aAAa,EAAE;EACnB,CAAC,EAAE,CAACN,iBAAiB,CAAC,CAAC;EAEvB,OAUEI,SAAS,GACPT,IAAA,CAACJ,WAAW;IACV6B,SAAS,EAAE9B,IAAK;IAChB+B,KAAK,EAAE;MACLC,KAAK,EAAE,GAAG;MACVC,MAAM,EAAE,GAAG;MACXC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE;IACX,CAAE;IAAAC,QAAA,EAEF/B,IAAA,CAACH,gBAAgB;MACfmC,KAAK,EAAC,SAAS;MACfN,KAAK,EAAE;QACLO,IAAI,EAAE,CAAC;QACPN,KAAK,EAAE,MAAM;QACbO,YAAY,EAAE;MAChB;IAAE;EACF,EACU,GAEdlC,IAAA,CAACP,gBAAgB;IAAC0C,aAAa,EAAE,GAAI;IAACC,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAM5C,OAAO,CAAC6C,OAAO,2CAAyCC,SAAS,CAAClC,IAAI,CAAC,CAAG;IAAA,CAAC;IAAA2B,QAAA,EAC9H/B,IAAA,CAACF,SAAS;MACRyC,MAAM,EAAE;QAAEC,GAAG,EAAErC,GAAG,IAAIA,GAAG,CAACiB,OAAO,CAAC,kBAAkB,EAAE,SAAS;MAAE,CAAE;MACnEqB,UAAU,EAAC;IAAO;EAClB,EAEL;AAGL"},"metadata":{},"sourceType":"module","externalDependencies":[]}